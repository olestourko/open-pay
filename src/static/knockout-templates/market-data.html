<div class="market-data">
    <div class="row">
        <label>
            Detailed View
            <input type="checkbox" data-bind="checked: show_detailed_view" />
        </label>
        <button class="button-secondary" data-bind="text: view_button_text, click: toggle_shown"></button>
        <p style="display: inline-block; padding-left: 1em"><i>* Green submissions are those which have been verified through known employer emails.</i></p>
    </div>
    <table>
        <thead>
        <tr>
            <th class="salary">Salary</th>
            <th class="location">Employer Location</th>
            <th class="roles">Roles</th>
            <th class="techs">Tech</th>
            <th class="employment-type">Type</th>
            <th class="perks">Perks</th>
            <th class="years-experience">Years Exp.</th>
            <th class="education">Education</th>
            <!-- ko if: $component.show_detailed_view() -->
            <th class="years-with-current-employer">Years w. Current Employer</th>
            <th class="lifetime-employers">Lifetime Employers</th>
            <th class="data-submitted">Date Submitted</th>
            <!-- /ko -->
        </tr>
        <tbody data-bind="foreach: { data: table_submissions, as: 'item' }">
            <tr data-bind="css: { verified: item.verified }">
                <td class="salary" data-bind="text: $component.get_salary_text(item.salary)"></td>
                <td class="location" data-bind="text: item.location.name"></td>
                <td class="roles" data-bind="foreach: { data: roles, as: 'role' }">
                    <span data-bind="text: role.name"></span><!-- ko if: $index() < item.roles.length - 1 -->,<br><!-- /ko -->
                </td>
                <td class="techs" data-bind="foreach: { data: techs, as: 'tech' }">
                    <span data-bind="text: tech.name"></span><!-- ko if: $index() < item.techs.length - 1 -->,<!-- /ko -->
                </td>
                <td class="employment-type" data-bind="text: item.employment_type.name"></td>
                <td class="perks" data-bind="foreach: { data: submission_to_perks, as: 'submission_to_perk' }">
                    <span data-bind="text: $component.get_perk_text(submission_to_perk)"></span><!-- ko if: $index() < item.submission_to_perks.length - 1 -->,<br><!-- /ko -->
                </td>
                <td class="years-experience" data-bind="text: item.years_experience"></td>
                <td class="education" data-bind="text: item.education.name"></td>
                <!-- ko if: $component.show_detailed_view() -->
                <td class="years-with-current-employer" data-bind="text: item.years_with_current_employer"></td>
                <td class="lifetime-employers" data-bind="text: item.number_of_employers"></td>
                <td class="date-submitted" data-bind="text: item.created_at"></td>
                <!-- /ko -->
            </tr>
        </tbody>
        </thead>
    </table>
    <!-- ko if: show_all() -->
    <button class="button-secondary" data-bind="text: view_button_text, click: toggle_shown"></button>
    <!-- /ko -->
</div>